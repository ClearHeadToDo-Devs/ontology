@prefix actions: <https://clearhead.us/vocab/actions/v4#> .
@prefix cco: <https://www.commoncoreontologies.org/> .
@prefix bfo: <http://purl.obolibrary.org/obo/> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# =============================================================================
# Comprehensive Example: Charter → Plan → PlannedAct Pipeline
# =============================================================================
#
# Demonstrates the full v4.1.0 feature set including:
# - Charter declaring scope of directed concern
# - Plans with all metadata (priority, contexts, dependencies, etc.)
# - PlannedActs with status tracking via is_measured_by_nominal
# - Objectives (projects) with inServiceOf linkage
# - Hierarchical plan structure (parent/child)
# - Plan ordering via is_successor_of
# - Recurrence rules for repeating tasks
# - Full temporal tracking (creation, scheduling, completion)
#
# DSL equivalent:
# *work/clearhead/v4-migration
# [x] Research CCO properties !2 +computer +work =research ^2025-01-01T09:00 @2025-01-15T10:00 %2025-01-15T12:30 #12345678-1234-1234-1234-123456789abc *work/clearhead/v4-migration
# [-] Extend v4 ontology !1 +computer +work D120 @2025-01-16T09:00 < research
# > [ ] Add missing properties
# > [-] Update SHACL shapes
# [ ] Create examples !2 +computer @2025-01-17T09:00 < extend-ontology R:FREQ=DAILY;COUNT=5
# =============================================================================

# Charter (scope of directed concern)
<urn:charter:work/clearhead> a actions:Charter ;
    rdfs:label "ClearHead Development" ;
    rdfs:comment "Development and maintenance of the ClearHead platform" ;
    actions:inServiceOf <urn:objective:work/clearhead/v4-migration> ;
    bfo:BFO_0000051 <urn:uuid:12345678-1234-1234-1234-123456789abc> ;  # hasPart
    bfo:BFO_0000051 <urn:uuid:extend-ontology> ;                       # hasPart
    bfo:BFO_0000051 <urn:uuid:create-examples> .                       # hasPart

# Project/Objective
<urn:objective:work/clearhead/v4-migration> a cco:ont00000476 ;
    rdfs:label "work/clearhead/v4-migration" ;
    rdfs:comment "Migrate CLI to use v4 ontology entities with proper CCO alignment" .

# Context entities
<urn:context:computer> a actions:Context ;
    rdfs:label "Computer" ;
    actions:hasContextIdentifier "computer" ;
    actions:hasContextType actions:ToolContextType .

<urn:context:work> a actions:Context ;
    rdfs:label "Work" ;
    actions:hasContextIdentifier "work" ;
    actions:hasContextType actions:CategoryContextType .

# =====================================================
# Plan 1: Research (Completed)
# =====================================================

<urn:uuid:12345678-1234-1234-1234-123456789abc> a cco:ont00000974 ;
    rdfs:label "Research CCO properties" ;
    rdfs:comment "Study existing CCO properties to determine what can be reused vs custom extensions needed" ;
    actions:inServiceOf <urn:objective:work/clearhead/v4-migration> ;
    actions:hasPriority 2 ;
    actions:requiresContext <urn:context:computer> , <urn:context:work> ;
    actions:hasAlias "research" ;
    actions:hasUUID "12345678-1234-1234-1234-123456789abc" ;
    actions:hasCreatedDateTime "2025-01-01T09:00:00Z"^^xsd:dateTime ;
    actions:hasDoDateTime "2025-01-15T10:00:00Z"^^xsd:dateTime ;
    bfo:BFO_0000050 <urn:charter:work/clearhead> ;  # partOf Charter
    cco:ont00001942 <urn:uuid:act-research-001> .

<urn:uuid:act-research-001> a cco:ont00000228 ;
    cco:ont00001868 actions:Completed ;
    actions:hasCompletedDateTime "2025-01-15T12:30:00Z"^^xsd:dateTime .

# =====================================================
# Plan 2: Extend ontology (In Progress, with children)
# =====================================================

<urn:uuid:extend-ontology> a cco:ont00000974 ;
    rdfs:label "Extend v4 ontology" ;
    rdfs:comment "Add missing properties to v4 ontology for lossless DSL conversion" ;
    actions:inServiceOf <urn:objective:work/clearhead/v4-migration> ;
    actions:hasPriority 1 ;
    actions:requiresContext <urn:context:computer> , <urn:context:work> ;
    actions:hasAlias "extend-ontology" ;
    actions:hasDoDateTime "2025-01-16T09:00:00Z"^^xsd:dateTime ;
    actions:hasDurationMinutes 120 ;
    cco:ont00001775 <urn:uuid:12345678-1234-1234-1234-123456789abc> ;  # is_successor_of (depends on research)
    bfo:BFO_0000050 <urn:charter:work/clearhead> ;  # partOf Charter
    bfo:BFO_0000051 <urn:uuid:add-properties> ;  # hasPart
    bfo:BFO_0000051 <urn:uuid:update-shacl> ;    # hasPart
    cco:ont00001942 <urn:uuid:act-extend-001> .

<urn:uuid:act-extend-001> a cco:ont00000228 ;
    cco:ont00001868 actions:InProgress .

# Child Plan 1
<urn:uuid:add-properties> a cco:ont00000974 ;
    rdfs:label "Add missing properties" ;
    bfo:BFO_0000050 <urn:uuid:extend-ontology> ;  # partOf
    cco:ont00001942 <urn:uuid:act-add-props-001> .

<urn:uuid:act-add-props-001> a cco:ont00000228 ;
    cco:ont00001868 actions:NotStarted .

# Child Plan 2
<urn:uuid:update-shacl> a cco:ont00000974 ;
    rdfs:label "Update SHACL shapes" ;
    bfo:BFO_0000050 <urn:uuid:extend-ontology> ;  # partOf
    cco:ont00001942 <urn:uuid:act-update-shacl-001> .

<urn:uuid:act-update-shacl-001> a cco:ont00000228 ;
    cco:ont00001868 actions:InProgress .

# =====================================================
# Plan 3: Create examples (Recurring)
# =====================================================

<urn:uuid:create-examples> a cco:ont00000974 ;
    rdfs:label "Create examples" ;
    rdfs:comment "Build comprehensive examples demonstrating v4 ontology features" ;
    actions:inServiceOf <urn:objective:work/clearhead/v4-migration> ;
    actions:hasPriority 2 ;
    actions:requiresContext <urn:context:computer> ;
    actions:hasDoDateTime "2025-01-17T09:00:00Z"^^xsd:dateTime ;
    actions:hasRecurrenceRule "FREQ=DAILY;COUNT=5" ;
    cco:ont00001775 <urn:uuid:extend-ontology> ;  # is_successor_of (depends on extend-ontology)
    bfo:BFO_0000050 <urn:charter:work/clearhead> ;  # partOf Charter
    cco:ont00001942 <urn:uuid:act-examples-001> ,
                    <urn:uuid:act-examples-002> ,
                    <urn:uuid:act-examples-003> .

# Multiple PlannedActs for recurring task
<urn:uuid:act-examples-001> a cco:ont00000228 ;
    cco:ont00001868 actions:NotStarted .

<urn:uuid:act-examples-002> a cco:ont00000228 ;
    cco:ont00001868 actions:NotStarted .

<urn:uuid:act-examples-003> a cco:ont00000228 ;
    cco:ont00001868 actions:NotStarted .
